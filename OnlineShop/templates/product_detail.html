{% extends 'base.html' %}

{% block title %}üå∏ {{ product.name }} - Sakura Anime Shop{% endblock %}

{% block extra_css %}
<style>
    /* ===== PRODUCT DETAIL PAGE ===== */
    .product-detail-page {
        padding: 20px 0;
    }
    
    .back-button {
        margin-bottom: 30px;
    }
    
    .back-button a {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 12px 25px;
        background: white;
        border: 2px solid var(--sakura-pink);
        border-radius: 25px;
        color: var(--text-dark);
        text-decoration: none;
        font-weight: 700;
        transition: var(--transition);
        box-shadow: var(--shadow);
    }
    
    .back-button a:hover {
        background: var(--sakura-pink);
        color: white;
        transform: translateY(-2px);
    }
    
    /* ===== PRODUCT CONTAINER ===== */
    .product-detail-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 40px;
        margin-bottom: 50px;
    }
    
    @media (max-width: 1024px) {
        .product-detail-container {
            grid-template-columns: 1fr;
            gap: 30px;
        }
    }
    
    /* ===== PRODUCT GALLERY ===== */
    .product-gallery-detail {
        background: white;
        border-radius: 25px;
        padding: 25px;
        box-shadow: var(--shadow);
        border: 3px solid white;
        position: relative;
        overflow: hidden;
    }
    
    .product-gallery-detail::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, var(--sakura-pink), var(--anime-blue));
    }
    
    .main-image-container {
        width: 100%;
        height: 400px;
        border-radius: 20px;
        overflow: hidden;
        margin-bottom: 20px;
        background: linear-gradient(45deg, #f8f9ff, #fff5f9);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .main-image-container img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        padding: 20px;
    }
    
    .image-placeholder {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: var(--sakura-pink);
        font-size: 4rem;
    }
    
    .image-placeholder i {
        margin-bottom: 20px;
    }
    
    .image-placeholder span {
        font-size: 1rem;
        color: var(--text-light);
        margin-top: 10px;
    }
    
    .thumbnails-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
    }
    
    .thumbnail {
        height: 80px;
        border-radius: 15px;
        overflow: hidden;
        cursor: pointer;
        background: linear-gradient(45deg, #f8f9ff, #fff5f9);
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid transparent;
        transition: var(--transition);
    }
    
    .thumbnail:hover,
    .thumbnail.active {
        border-color: var(--sakura-pink);
        transform: translateY(-3px);
    }
    
    .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    /* ===== PRODUCT INFO ===== */
    .product-info-detail {
        background: white;
        border-radius: 25px;
        padding: 30px;
        box-shadow: var(--shadow);
        border: 3px solid white;
        position: relative;
        overflow: hidden;
    }
    
    .product-info-detail::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, var(--anime-blue), var(--manga-red));
    }
    
    .category-tag {
        display: inline-block;
        background: rgba(0, 180, 255, 0.1);
        color: var(--anime-blue);
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 700;
        margin-bottom: 20px;
        border: 2px solid rgba(0, 180, 255, 0.2);
    }
    
    .product-title-detail {
        font-size: 2.2rem;
        margin-bottom: 15px;
        color: var(--text-dark);
        line-height: 1.2;
        font-weight: 900;
    }
    
    .product-rating {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 25px;
    }
    
    .stars {
        color: #ffd700;
        font-size: 1.2rem;
    }
    
    .rating-text {
        color: var(--text-light);
        font-size: 0.9rem;
    }
    
    .product-price-detail {
        font-size: 3rem;
        font-weight: 900;
        color: var(--manga-red);
        margin: 25px 0;
        position: relative;
        display: inline-block;
    }
    
    .product-price-detail::after {
        content: 'ÂÜÜ';
        font-size: 1.2rem;
        color: var(--text-light);
        margin-left: 10px;
        opacity: 0.7;
    }
    
    /* ===== STOCK STATUS ===== */
    .stock-status-detail {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px 20px;
        border-radius: 15px;
        margin: 20px 0;
        background: white;
        border: 2px solid rgba(46, 204, 113, 0.3);
        box-shadow: var(--shadow);
    }
    
    .stock-status-detail.in-stock {
        border-color: rgba(46, 204, 113, 0.3);
        background: rgba(46, 204, 113, 0.05);
    }
    
    .stock-status-detail.low-stock {
        border-color: rgba(243, 156, 18, 0.3);
        background: rgba(243, 156, 18, 0.05);
    }
    
    .stock-status-detail.out-stock {
        border-color: rgba(231, 76, 60, 0.3);
        background: rgba(231, 76, 60, 0.05);
    }
    
    .stock-status-detail i {
        font-size: 1.5rem;
    }
    
    .stock-status-detail.in-stock i {
        color: #2ecc71;
    }
    
    .stock-status-detail.low-stock i {
        color: #f39c12;
    }
    
    .stock-status-detail.out-stock i {
        color: #e74c3c;
    }
    
    /* ===== DESCRIPTION ===== */
    .description-box {
        margin: 30px 0;
        padding: 25px;
        background: linear-gradient(135deg, rgba(255, 158, 187, 0.05), rgba(0, 180, 255, 0.05));
        border-radius: 20px;
        border-left: 4px solid var(--sakura-pink);
    }
    
    .description-box h3 {
        margin-bottom: 15px;
        color: var(--text-dark);
        font-size: 1.3rem;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .description-box p {
        color: var(--text-dark);
        line-height: 1.8;
        margin-bottom: 0;
    }
    
    /* ===== SPECIFICATIONS ===== */
    .specs-grid-detail {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 25px 0;
    }
    
    @media (max-width: 576px) {
        .specs-grid-detail {
            grid-template-columns: 1fr;
        }
    }
    
    .spec-item-detail {
        padding: 15px;
        background: white;
        border-radius: 15px;
        border: 2px solid var(--sakura-light);
        transition: var(--transition);
    }
    
    .spec-item-detail:hover {
        border-color: var(--anime-blue);
        transform: translateY(-3px);
    }
    
    .spec-label-detail {
        font-size: 0.9rem;
        color: var(--text-light);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    
    .spec-value-detail {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--text-dark);
    }
    
    /* ===== ACTION BUTTONS ===== */
    .action-buttons-detail {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 30px;
    }
    
    @media (max-width: 576px) {
        .action-buttons-detail {
            grid-template-columns: 1fr;
        }
    }
    
    /* ===== ADDITIONAL INFO ===== */
    .additional-info {
        margin-top: 60px;
        background: white;
        border-radius: 25px;
        padding: 40px;
        box-shadow: var(--shadow);
        border: 3px solid white;
    }
    
    .additional-info::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(90deg, var(--sakura-pink), var(--manga-red));
    }
    
    .info-grid-detail {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
        margin-top: 30px;
    }
    
    .info-item-detail {
        padding: 20px;
        background: linear-gradient(135deg, rgba(255, 158, 187, 0.05), rgba(0, 180, 255, 0.05));
        border-radius: 20px;
        text-align: center;
        transition: var(--transition);
        border: 2px solid transparent;
    }
    
    .info-item-detail:hover {
        border-color: var(--sakura-pink);
        transform: translateY(-5px);
    }
    
    .info-icon-detail {
        font-size: 2.5rem;
        color: var(--manga-red);
        margin-bottom: 15px;
    }
    
    /* ===== RELATED PRODUCTS ===== */
    .related-section {
        margin-top: 60px;
    }
    
    .related-products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
        margin-top: 30px;
    }
    
    .related-card {
        background: white;
        border-radius: 20px;
        padding: 25px;
        text-align: center;
        box-shadow: var(--shadow);
        border: 3px solid white;
        transition: var(--transition);
        text-decoration: none;
        color: inherit;
    }
    
    .related-card:hover {
        transform: translateY(-8px);
        border-color: var(--sakura-pink);
    }
    
    .related-icon {
        font-size: 2.5rem;
        color: var(--anime-blue);
        margin-bottom: 15px;
    }
</style>
{% endblock %}

{% block content %}
<div class="product-detail-page">
    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
    <div class="back-button">
        <a href="/products/">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ —Ç–æ–≤–∞—Ä–∞–º
        </a>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="product-detail-container">
        <!-- –ì–∞–ª–µ—Ä–µ—è -->
        <div class="product-gallery-detail">
            <div class="main-image-container">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" id="mainProductImage">
                {% else %}
                    <div class="image-placeholder">
                        {% if product.category.name == "–§–∏–≥—É—Ä–∫–∏" %}<i class="fas fa-robot"></i>
                        {% elif product.category.name == "–û–¥–µ–∂–¥–∞" %}<i class="fas fa-tshirt"></i>
                        {% elif product.category.name == "–ö–æ–º–∏–∫—Å—ã" %}<i class="fas fa-book"></i>
                        {% else %}<i class="fas fa-gift"></i>{% endif %}
                        <span>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</span>
                    </div>
                {% endif %}
            </div>
            
            <div class="thumbnails-grid">
                {% for i in "1234" %}
                <div class="thumbnail {% if forloop.first %}active{% endif %}" 
                     onclick="changeImage('{% if product.image %}{{ product.image.url }}{% endif %}')">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="–§–æ—Ç–æ {{ i }}">
                    {% else %}
                        <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: var(--sakura-pink);">
                            {% if product.category.name == "–§–∏–≥—É—Ä–∫–∏" %}<i class="fas fa-robot"></i>
                            {% elif product.category.name == "–û–¥–µ–∂–¥–∞" %}<i class="fas fa-tshirt"></i>
                            {% elif product.category.name == "–ö–æ–º–∏–∫—Å—ã" %}<i class="fas fa-book"></i>
                            {% else %}<i class="fas fa-gift"></i>{% endif %}
                        </div>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ -->
        <div class="product-info-detail">
            <span class="category-tag">{{ product.category.name }}</span>
            
            <h1 class="product-title-detail">{{ product.name }}</h1>
            
            <div class="product-rating">
                <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <span class="rating-text">4.8 (24 –æ—Ç–∑—ã–≤–∞)</span>
            </div>
            
            <div class="product-price-detail">{{ product.price }}</div>
            
            <!-- –ù–∞–ª–∏—á–∏–µ -->
            <div class="stock-status-detail {% if product.stock > 10 %}in-stock{% elif product.stock > 0 %}low-stock{% else %}out-stock{% endif %}">
                {% if product.stock > 10 %}
                    <i class="fas fa-check-circle"></i>
                    <div>
                        <div style="font-weight: 700; color: #2ecc71; margin-bottom: 5px;">–í –Ω–∞–ª–∏—á–∏–∏</div>
                        <div style="font-size: 0.9rem; color: var(--text-light);">
                            {{ product.stock }} —à—Ç. –Ω–∞ —Å–∫–ª–∞–¥–µ
                        </div>
                    </div>
                {% elif product.stock > 0 %}
                    <i class="fas fa-exclamation-circle"></i>
                    <div>
                        <div style="font-weight: 700; color: #f39c12; margin-bottom: 5px;">–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</div>
                        <div style="font-size: 0.9rem; color: var(--text-light);">
                            –û—Å—Ç–∞–ª–æ—Å—å {{ product.stock }} —à—Ç.
                        </div>
                    </div>
                {% else %}
                    <i class="fas fa-times-circle"></i>
                    <div>
                        <div style="font-weight: 700; color: #e74c3c; margin-bottom: 5px;">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
                        <div style="font-size: 0.9rem; color: var(--text-light);">
                            –û–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ—Å—Ç–∞–≤–∫–∞
                        </div>
                    </div>
                {% endif %}
            </div>
            
            <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
            {% if product.description %}
            <div class="description-box">
                <h3><i class="fas fa-file-alt"></i> –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h3>
                <p>{{ product.description|linebreaks }}</p>
            </div>
            {% endif %}
            
            <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
            <h3 style="color: var(--text-dark); margin-bottom: 15px; font-size: 1.3rem;">
                <i class="fas fa-list"></i> –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            </h3>
            <div class="specs-grid-detail">
                <div class="spec-item-detail">
                    <div class="spec-label-detail"><i class="fas fa-tag"></i> –ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                    <div class="spec-value-detail">{{ product.category.name }}</div>
                </div>
                
                {% if product.supplier %}
                <div class="spec-item-detail">
                    <div class="spec-label-detail"><i class="fas fa-truck"></i> –ü–æ—Å—Ç–∞–≤—â–∏–∫</div>
                    <div class="spec-value-detail">{{ product.supplier.name }}</div>
                </div>
                {% endif %}
                
                <div class="spec-item-detail">
                    <div class="spec-label-detail"><i class="fas fa-barcode"></i> –ê—Ä—Ç–∏–∫—É–ª</div>
                    <div class="spec-value-detail">#{{ product.id|stringformat:"06d" }}</div>
                </div>
                
                <div class="spec-item-detail">
                    <div class="spec-label-detail"><i class="fas fa-box"></i> –ù–∞–ª–∏—á–∏–µ</div>
                    <div class="spec-value-detail" style="color: {% if product.stock > 10 %}#2ecc71{% elif product.stock > 0 %}#f39c12{% else %}#e74c3c{% endif %};">
                        {% if product.stock > 10 %}–í –Ω–∞–ª–∏—á–∏–∏{% elif product.stock > 0 %}–ú–∞–ª–æ{% else %}–ù–µ—Ç{% endif %}
                    </div>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="action-buttons-detail">
                {% if product.stock > 0 %}
                <button class="anime-btn btn-primary" onclick="addToCart({{ product.id }})" style="background: linear-gradient(45deg, #f8f9ff, #fff5f9); width: 100%; padding: 16px; border: 2px solid rgba(252, 169, 255, 1);">
                    <i class="fas fa-shopping-cart"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                </button>
                {% else %}
                <button class="anime-btn" disabled style="width: 100%; padding: 16px; background: var(--text-light);">
                    <i class="fas fa-ban"></i> –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
                </button>
                {% endif %}
                
                <a href="/categories/{{ product.category.id }}/" class="anime-btn btn-secondary" style="width: 100%; padding: 16px; text-align: center; text-decoration: none;">
                    <i class="fas fa-tags"></i> –í—Å–µ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                </a>
            </div>
        </div>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="additional-info">
        <h2 class="section-title" style="color: var(--manga-red); margin-bottom: 15px; font-size: 1.8rem;">
            –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–∫—É–ø–∫–µ
        </h2>
        <p style="color: var(--text-light); margin-bottom: 30px;">
            –í—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∏
        </p>
        
        <div class="info-grid-detail">
            <div class="info-item-detail">
                <div class="info-icon-detail">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <h3 style="color: var(--text-dark); margin-bottom: 10px; font-size: 1.1rem;">
                    –î–æ—Å—Ç–∞–≤–∫–∞
                </h3>
                <p style="color: var(--text-light); font-size: 0.9rem;">
                    –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏ 5-10 –¥–Ω–µ–π, –≤ –ú–æ—Å–∫–≤–µ 1-2 –¥–Ω—è. –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 3000‚ÇΩ
                </p>
            </div>
            
            <div class="info-item-detail">
                <div class="info-icon-detail">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 style="color: var(--text-dark); margin-bottom: 10px; font-size: 1.1rem;">
                    –ì–∞—Ä–∞–Ω—Ç–∏—è
                </h3>
                <p style="color: var(--text-light); font-size: 0.9rem;">
                    100% –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è. –í–æ–∑–≤—Ä–∞—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π. –ì–∞—Ä–∞–Ω—Ç–∏—è 6 –º–µ—Å—è—Ü–µ–≤
                </p>
            </div>
            
            <div class="info-item-detail">
                <div class="info-icon-detail">
                    <i class="fas fa-credit-card"></i>
                </div>
                <h3 style="color: var(--text-dark); margin-bottom: 10px; font-size: 1.1rem;">
                    –û–ø–ª–∞—Ç–∞
                </h3>
                <p style="color: var(--text-light); font-size: 0.9rem;">
                    –ù–∞–ª–∏—á–Ω—ã–º–∏ –∫—É—Ä—å–µ—Ä—É, –∫–∞—Ä—Ç–æ–π –æ–Ω–ª–∞–π–Ω, –°–ë–ü. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ CloudPayments
                </p>
            </div>
            
            <div class="info-item-detail">
                <div class="info-icon-detail">
                    <i class="fas fa-headset"></i>
                </div>
                <h3 style="color: var(--text-dark); margin-bottom: 10px; font-size: 1.1rem;">
                    –ü–æ–¥–¥–µ—Ä–∂–∫–∞
                </h3>
                <p style="color: var(--text-light); font-size: 0.9rem;">
                    –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7. –ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ —Ç–æ–≤–∞—Ä–∞. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ –∏ –æ–ø–ª–∞—Ç–µ
                </p>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
    function changeImage(src) {
        const mainImage = document.getElementById('mainProductImage');
        if (mainImage && src) {
            mainImage.src = src;
        }
        
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –º–∏–Ω–∏–∞—Ç—é—Ä
        document.querySelectorAll('.thumbnail').forEach(thumb => {
            thumb.classList.remove('active');
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –º–∏–Ω–∏–∞—Ç—é—Ä–µ
        event.currentTarget.classList.add('active');
    }
    
    function addToCart(productId) {
        const btn = event.currentTarget;
        const originalHTML = btn.innerHTML;
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
        btn.innerHTML = '<i class="fas fa-check"></i> –î–æ–±–∞–≤–ª–µ–Ω–æ!';
        btn.style.background = '#2ecc71';
        btn.disabled = true;
        
        // –≠—Ñ—Ñ–µ–∫—Ç —á–∞—Å—Ç–∏—Ü
        for (let i = 0; i < 5; i++) {
            createParticle(btn);
        }
        
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
        setTimeout(() => {
            btn.innerHTML = originalHTML;
            btn.style.background = '';
            btn.disabled = false;
        }, 2000);
        
        console.log('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É:', productId);
    }
    
    function createParticle(btn) {
        const particle = document.createElement('div');
        particle.style.position = 'absolute';
        particle.style.width = '8px';
        particle.style.height = '8px';
        particle.style.background = '#2ecc71';
        particle.style.borderRadius = '50%';
        particle.style.left = (btn.getBoundingClientRect().left + btn.offsetWidth / 2) + 'px';
        particle.style.top = (btn.getBoundingClientRect().top + btn.offsetHeight / 2) + 'px';
        particle.style.zIndex = '1000';
        document.body.appendChild(particle);
        
        const angle = Math.random() * Math.PI * 2;
        const distance = 50 + Math.random() * 50;
        const duration = 500 + Math.random() * 500;
        
        particle.animate([
            {
                transform: `translate(0, 0)`,
                opacity: 1
            },
            {
                transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`,
                opacity: 0
            }
        ], {
            duration: duration,
            easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
        });
        
        setTimeout(() => {
            particle.remove();
        }, duration);
    }
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    document.addEventListener('DOMContentLoaded', function() {
        const elements = document.querySelectorAll('.product-gallery-detail, .product-info-detail, .additional-info, .related-card');
        
        elements.forEach((el, index) => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(20px)';
            el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            
            setTimeout(() => {
                el.style.opacity = '1';
                el.style.transform = 'translateY(0)';
            }, index * 100);
        });
    });
</script>
{% endblock %}